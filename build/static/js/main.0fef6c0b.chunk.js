(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{21:function(e,t,n){e.exports=n.p+"static/media/adopt-dog.703271d5.jpg"},24:function(e,t,n){e.exports=n(35)},25:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);n(25);var a=n(0),o=n.n(a),r=n(20),u=n.n(r),l=n(7),c=n(8),s=n(11),i=n(9),p=n(12),d=n(21),h=n.n(d),m=n(10);function f(e){return o.a.createElement("div",{className:"landing"},o.a.createElement("img",{alt:"adoption process",src:h.a}),o.a.createElement("h2",null,"Adopt a new friend"),o.a.createElement("p",null,"Welcome to Petful, your one stop shop to adopting a cat or a dog."),o.a.createElement("p",null,"Potential adopters join our queue, and are able to watch in real time as pets are matched up with their new owners."),o.a.createElement("p",null,"When you join the queue, you'll wait until you are currently up.  Once it's your turn to pick, Petful will show you two animals.  It's then up to you to choose who you'll take home."),o.a.createElement(m.b,{to:"/adopt"},o.a.createElement("button",null,"Lets adopt a Pet")))}var E=n(17),g="https://dsa-petful.herokuapp.com",y={getPeople:function(){return fetch("".concat(g,"/people"),{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},addPerson:function(e){return fetch("".concat(g,"/people"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({person:e})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))}},j={getPets:function(){return fetch("".concat(g,"/pets"),{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},adopt:function(e){return fetch("".concat(g,"/pets"),{method:"DELETE",headers:{"content-type":"application/json"},body:JSON.stringify({type:e})}).then((function(e){return console.log(e.ok),e.ok?e.ok:function(e){return Promise.reject(e)}}))}};o.a.Component;function b(e){var t=e.pet,n=t.age,a=t.breed,r=t.description,u=t.gender,l=t.imageURL,c=t.name,s=t.story;return o.a.createElement("div",{className:"pet"},o.a.createElement("h1",null,c),o.a.createElement("img",{src:l}),o.a.createElement("h3",null,"Breed: ",a),o.a.createElement("h3",null,"Gender: ",u),o.a.createElement("h3",null,"Age: ",n),o.a.createElement("h3",null,r),o.a.createElement("p",null,s))}b.defaultProps={pet:{age:0,breed:"nonoe",description:"no description",gender:"no gender",imageURL:"no imgURL",name:"no name",story:"no story"}};var v=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(i.a)(t).call(this,e))).updateData=function(){y.getPeople().then((function(e){n.setState({people:e})})),j.getPets().then((function(e){n.setState({dog:e.dog,cat:e.cat,loaded:!0})}))},n.handleAdopt=function(){var e=Math.random()>=.5?"cat":"dog";j.adopt(e).then((function(){n.updateData()}))},n.handleUserAdopt=function(e){j.adopt(e).then((function(){n.setState({userInQueue:null,userAdopted:!0,adoptedPet:n.state[e]})})).then((function(){n.updateData()}))},n.handleJoinQueue=function(){n.state.userInQueue||y.addPerson("You").then((function(e){n.setState({userInQueue:"You"}),n.updateData()}))},n.fakeIteration=function(){n.state.userInQueue&&n.state.userInQueue!==n.state.people[0]&&n.state.people.length<10&&y.addPerson(n.state.names[Math.floor(Math.random()*n.state.names.length)]).then((function(){setTimeout(n.handleAdopt,2e3)})).then((function(){n.updateData()}))},n.state={people:[],names:["Agatha","Brinette","Chris","Desdemona","Evelyn","Francis","Grant"],dog:[],cat:[],loaded:!1,userInQueue:null,userAdopted:!1,adoptedPet:null},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.updateData(),setInterval(this.fakeIteration,5e3)}},{key:"render",value:function(){var e=this,t=this.state,n=t.people,a=t.userInQueue;return o.a.createElement("div",null,this.state.userAdopted&&o.a.createElement("div",{style:{maxWidth:"50vw"}},o.a.createElement("h1",null,"Congrats, you adopted:"),o.a.createElement(b,{pet:this.state.adoptedPet}),o.a.createElement("p",null,"Please contact our office to arrange pickup. :)")),o.a.createElement("div",null,!this.state.userInQueue&&o.a.createElement("button",{onClick:this.handleJoinQueue},"Join Queue"),o.a.createElement("div",{className:"queue"},o.a.createElement("h4",null,"Current Adoption Queue: ",this.state.people.length),o.a.createElement("ul",null,n.map((function(e,t){return 0===t?o.a.createElement("li",{key:t,style:{fontSize:40}},"Currently Up: ",e):t<10?o.a.createElement("li",{key:t},e):void 0})))),o.a.createElement("div",{className:"pet-box"},a===n[0]&&o.a.createElement("button",{onClick:function(){return e.handleUserAdopt("cat")}},"Adopt ",this.state.cat.name),a===n[0]&&o.a.createElement("button",{onClick:function(){return e.handleUserAdopt("dog")}},"Adopt ",this.state.dog.name)),o.a.createElement("div",{className:"pet-box"},o.a.createElement(b,{pet:this.state.cat}),o.a.createElement(b,{pet:this.state.dog}))))}}]),t}(o.a.Component),k=n(5),P=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(m.b,{to:"/"},o.a.createElement("h1",null,"Petful")),o.a.createElement(k.b,null,o.a.createElement(f,{exact:!0,path:"/"}),o.a.createElement(v,{path:"/adopt"})))}}]),t}(o.a.Component);u.a.render(o.a.createElement(m.a,null,o.a.createElement(P,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.0fef6c0b.chunk.js.map